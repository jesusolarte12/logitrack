<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Usuarios</title>
    <link rel="stylesheet" href="../css/global.css">
    <link rel="stylesheet" href="../css/usuarios.css">
</head>
<body>
    <div class="app-container">
        <div class="container">
            <section class="section">
                <div class="section-header">
                    <div class="section-title-group">
                        <h1>Gestión de Usuarios</h1>
                        <p class="section-subtitle">Administración de usuarios del sistema</p>
                    </div>
                    <div class="section-actions">
                        <button class="btn btn-primary" id="btnNuevoUsuario">
                            <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                            </svg>
                            Agregar Usuario
                        </button>
                    </div>
                </div>

                <!-- Barra de búsqueda -->
                <div class="search-bar">
                    <div class="search-input-group">
                        <svg class="search-icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                        </svg>
                        <input type="text" id="buscarDocumento" placeholder="Buscar por documento..." class="search-input">
                        <button class="btn btn-secondary" id="btnBuscar">Buscar</button>
                        <button class="btn btn-secondary" id="btnLimpiarBusqueda">Limpiar</button>
                    </div>
                </div>

                <!-- Tabla de usuarios -->
                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Username</th>
                                <th>Nombre</th>
                                <th>Cargo</th>
                                <th>Documento</th>
                                <th>Email</th>
                                <th>Rol</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="tablaUsuarios">
                            <!-- Se llenará dinámicamente -->
                        </tbody>
                    </table>
                </div>
            </section>
        </div>
    </div>

    <!-- Modal para crear/editar usuario -->
    <div id="modalUsuario" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="tituloModal">Agregar Usuario</h2>
                <button class="modal-close" id="btnCerrarModal">&times;</button>
            </div>
            <form id="formUsuario">
                <input type="hidden" id="documentoOriginal" value="">
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="username">Username *</label>
                        <input type="text" id="username" name="username" required maxlength="50" 
                               placeholder="Nombre de usuario">
                    </div>
                    
                    <div class="form-group">
                        <label for="password">Contraseña *</label>
                        <input type="password" id="password" name="password" required maxlength="100" 
                               placeholder="Contraseña">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="nombre">Nombre Completo *</label>
                        <input type="text" id="nombre" name="nombre" required maxlength="100" 
                               placeholder="Nombre completo">
                    </div>
                    
                    <div class="form-group">
                        <label for="cargo">Cargo *</label>
                        <input type="text" id="cargo" name="cargo" required maxlength="100" 
                               placeholder="Cargo del usuario">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="documento">Documento *</label>
                        <input type="text" id="documento" name="documento" required maxlength="20" 
                               placeholder="Número de documento">
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email *</label>
                        <input type="email" id="email" name="email" required maxlength="100" 
                               placeholder="correo@ejemplo.com">
                    </div>
                </div>

                <div class="form-group">
                    <label for="rol">Rol *</label>
                    <select id="rol" name="rol" required>
                        <option value="">Seleccione un rol...</option>
                        <option value="ADMIN">ADMIN</option>
                        <option value="USER">USER</option>
                    </select>
                </div>
                
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" id="btnCancelar">Cancelar</button>
                    <button type="submit" class="btn btn-primary" id="btnGuardar">Guardar Usuario</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal de confirmación de eliminación -->
    <div id="modalConfirmarEliminar" class="modal">
        <div class="modal-content modal-confirm">
            <div class="modal-header">
                <h2>Confirmar Eliminación</h2>
                <button class="modal-close" id="btnCerrarConfirmar">&times;</button>
            </div>
            <div class="modal-body">
                <p>¿Está seguro que desea eliminar este usuario?</p>
                <p class="warning-text">Esta acción no se puede deshacer.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="btnCancelarEliminar">Cancelar</button>
                <button type="button" class="btn btn-danger" id="btnConfirmarEliminar">Eliminar</button>
            </div>
        </div>
    </div>

    <script src="../js/usuarios.js"></script>
</body>
</html>
